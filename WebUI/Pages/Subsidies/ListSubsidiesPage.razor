@using WebUI.Components.DataGrid
@using WebUI.Pages.Seedings.Dialogs
@using WebUI.Services.Subsidies
@using WebUI.ServicesModel.Subsidies

@page "/subsidy"

<PageTitle>Субсидии</PageTitle>

@if (DataGrid is null)
{
    <Loader />
}
else
{
    <FarmingSeasonContainer OnSeasonChanged=UpdateDataGrid>
        <DynamicDataGrid TData="SubsidiesModel" Data="@DataGrid">
            <DetailChildContent Context="order" >
                <RadzenDataGrid Data="@order.ArableLands">
                    <Columns>
                        <RadzenDataGridColumn Property="@nameof(SubsidySlitByArableLand.ArableLandName)" Title="Земя" FormatString="{0:dd/MM/yy}" />
                        <RadzenDataGridColumn Property="@nameof(SubsidySlitByArableLand.Income)" Title="Приход" FormatString="{0:n2} лв." />
                    </Columns>
                </RadzenDataGrid>
            </DetailChildContent>
        </DynamicDataGrid>
    </FarmingSeasonContainer>
}